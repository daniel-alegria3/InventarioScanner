!function(){function t(t,e,a){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var o=a.call(t,e||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}System.register(["./index-legacy-BGAQHXxQ.js","./TablaUsuarios-legacy-DPhVBHzJ.js"],(function(e,a){"use strict";var o,n,r,i,s,c,d,u,l,_,b,p,h,f,w,m,v,g;return{setters:[t=>{o=t.d,n=t.k,r=t.c,i=t.w,s=t.u,c=t.l,d=t.o,u=t.a,l=t.I,_=t.b,b=t.e,p=t.f,h=t.g,f=t.h,w=t.i,m=t.j,v=t._},t=>{g=t.T}],execute:function(){var a=document.createElement("style");a.textContent="#container[data-v-1f0e28ef]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container strong[data-v-1f0e28ef]{font-size:20px;line-height:26px}#container p[data-v-1f0e28ef]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container a[data-v-1f0e28ef]{text-decoration:none}\n",document.head.appendChild(a);class y{constructor(e){t(this,"sqlite",void 0),t(this,"db",void 0),this.sqlite=e}async init(){const t=await this.sqlite.checkConnectionsConsistency(),e=(await this.sqlite.isConnection("db_inventario",!1)).result;t.result&&e?this.db=await this.sqlite.retrieveConnection("db_inventario",!1):this.db=await this.sqlite.createConnection("db_inventario",!1,"no-encryption",1,!1)}async obtener_productos(){await this.db.open();const t=await this.db.query("\n            SELECT id, nombre, precio, unidad_medida, categorias, foto, cod_barra\n            FROM producto;\n        ");return await this.db.close(),t.values}async obtener_productos_por_texto(t){await this.db.open();let e=`%${t}%`;const a=await this.db.query("\n            SELECT id, nombre, precio, unidad_medida, categorias, foto, cod_barra\n            FROM producto\n            WHERE nombre LIKE ? OR categorias LIKE ?;",[e,e]);return await this.db.close(),a.values}async obtener_producto_por_cod_barra(t){await this.db.open();const e=await this.db.query("\n            SELECT id, nombre, precio, unidad_medida, categorias, foto, cod_barra\n            FROM producto\n            WHERE cod_barra = ?;",[t]);return await this.db.close(),e.values}async"añadir_producto"(t){await this.db.open();const e=await this.db.run("\n            INSERT INTO producto (nombre, precio, unidad_medida, categorias, foto, cod_barra)\n            VALUES (?, ?, ?, ?, ?, ?);",this.producto_to_array(t));await this.check_run_response(e),await this.db.close()}async quitar_producto(t){await this.db.open();const e=await this.db.run("DELETE FROM producto WHERE id = ?",[t]);await this.check_run_response(e),await this.db.close()}async actualizar_producto(t,e){await this.db.open();const a=this.producto_to_array(e).concat([t]),o=await this.db.run("\n            UPDATE producto\n            SET nombre = ?, precio = ?, unidad_medida = ?, categorias = ?, foto = ?, cod_barra = ?\n            WHERE id = ?",a);await this.check_run_response(o),await this.db.close()}async check_run_response(t){if(t.changes&&t.changes.changes&&t.changes.changes<0)throw console.log("aww man"),new Error("Error: sqlite query failed")}producto_to_array(t){var e,a,o,n;return[t.nombre,t.precio,null!==(e=t.unidad_medida)&&void 0!==e?e:null,null!==(a=t.categorias)&&void 0!==a?a:null,null!==(o=t.foto)&&void 0!==o?o:null,null!==(n=t.cod_barra)&&void 0!==n?n:null]}}e("default",v(o({__name:"FolderInventario",setup(t){let e,a=new y(c("$sqlite"));return n((async()=>{await a.init(),e=await a.obtener_productos_por_texto("nombre1"),e=await a.obtener_producto_por_cod_barra("12374"),await a.añadir_producto({nombre:"noooo",precio:666,unidad_medida:"woa",categorias:null,foto:null,cod_barra:null}),e=await a.obtener_productos(),console.log(e)})),(t,e)=>(d(),r(s(m),null,{default:i((()=>[u(s(f),{translucent:!0},{default:i((()=>[u(s(l),null,{default:i((()=>[u(s(_),{slot:"start"},{default:i((()=>[u(s(b),{color:"primary"})])),_:1}),u(s(p),null,{default:i((()=>e[0]||(e[0]=[h("Inventario")]))),_:1})])),_:1})])),_:1}),u(s(w),{fullscreen:!0},{default:i((()=>[u(s(f),{collapse:"condense"},{default:i((()=>[u(s(l),null,{default:i((()=>[u(s(p),{size:"large"},{default:i((()=>e[1]||(e[1]=[h("Inventario")]))),_:1})])),_:1})])),_:1}),u(g)])),_:1})])),_:1}))}}),[["__scopeId","data-v-1f0e28ef"]]))}}}))}();
